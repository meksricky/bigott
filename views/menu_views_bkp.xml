<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <!-- ========== OLLAMA GIFT RECOMMENDER MENU STRUCTURE ========== -->
    
    <!-- Create the missing parent menus first -->
    <menuitem id="menu_ai_configuration" 
              name="AI Configuration" 
              sequence="60"/>
              
    <menuitem id="menu_gift_management" 
              name="Gift Management" 
              sequence="50"/>
    
    <!-- Main Menu Item under AI Configuration -->
    <menuitem id="menu_ollama_main" 
              name="🤖 Ollama AI" 
              parent="menu_ai_configuration" 
              sequence="5"/>
    
    <!-- Ollama Recommenders Management -->
    <menuitem id="menu_ollama_gift_recommender" 
              name="Gift Recommenders" 
              parent="menu_ollama_main" 
              action="action_ollama_gift_recommender" 
              sequence="10"/>
    
    <!-- Quick Access - Generate Recommendation Wizard -->
    <menuitem id="menu_ollama_quick_recommendation" 
              name="🎁 Generate Recommendation" 
              parent="menu_ollama_main" 
              action="action_ollama_recommendation_wizard" 
              sequence="20"/>
    
    <!-- ========== INTEGRATION WITH EXISTING GIFT MANAGEMENT ========== -->
    
    <!-- Quick Access in Main Gift Management Menu -->
    <menuitem id="menu_ollama_recommendation_wizard_main" 
              name="🤖 AI Recommendations" 
              parent="menu_gift_management" 
              action="action_ollama_recommendation_wizard" 
              sequence="3"/>
    
    <!-- ========== DASHBOARD/ANALYTICS MENU ========== -->
    
    <!-- Analytics submenu under Ollama AI -->
    <menuitem id="menu_ollama_analytics" 
              name="📊 Analytics" 
              parent="menu_ollama_main" 
              sequence="30"/>
    
    <!-- Recommendation Performance -->
    <record id="action_ollama_performance_analysis" model="ir.actions.act_window">
        <field name="name">Recommendation Performance</field>
        <field name="res_model">ollama.gift.recommender</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">📈 Analyze AI recommendation performance!</p>
            <p>
                View success rates, response times, and other performance metrics for your Ollama AI recommenders.
            </p>
        </field>
    </record>
    
    <menuitem id="menu_ollama_performance" 
              name="Performance Analysis" 
              parent="menu_ollama_analytics" 
              action="action_ollama_performance_analysis" 
              sequence="10"/>
    
    <!-- AI Generated Compositions -->
    <record id="action_ollama_generated_compositions" model="ir.actions.act_window">
        <field name="name">AI Generated Compositions</field>
        <field name="res_model">gift.composition</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('reasoning', 'ilike', 'Ollama AI Recommendation')]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">🤖 No AI recommendations yet!</p>
            <p>
                All gift compositions generated by Ollama AI will appear here.
                You can analyze patterns, success rates, and client preferences.
            </p>
        </field>
    </record>
    
    <menuitem id="menu_ollama_generated_compositions" 
              name="AI Generated Compositions" 
              parent="menu_ollama_analytics" 
              action="action_ollama_generated_compositions" 
              sequence="20"/>
    
    <!-- ========== CONFIGURATION SUBMENU ========== -->
    
    <!-- Configuration submenu under Ollama AI -->
    <menuitem id="menu_ollama_configuration" 
              name="⚙️ Configuration" 
              parent="menu_ollama_main" 
              sequence="40"/>

    <!-- Top Level Menu -->
    <menuitem id="menu_gift_ai_root" 
              name="🎁 Gift AI" 
              sequence="10"/>
    
    <!-- Main Sections -->
    <menuitem id="menu_ollama_main" 
              name="🤖 Ollama AI" 
              parent="menu_gift_ai_root" 
              sequence="10"/>
    
    <!-- Ollama Recommenders -->
    <menuitem id="menu_ollama_gift_recommender" 
              name="Recommenders" 
              parent="menu_ollama_main" 
              action="action_ollama_gift_recommender" 
              sequence="10"/>
    
    <!-- Gift Compositions -->
    <menuitem id="menu_gift_compositions" 
              name="Gift Compositions" 
              parent="menu_ollama_main" 
              action="action_gift_composition" 
              sequence="20"/>
    
    <!-- Analytics Section -->
    <menuitem id="menu_ollama_analytics" 
              name="📊 Analytics" 
              parent="menu_ollama_main" 
              sequence="30"/>
    
    <!-- AI Learning under Analytics -->
    <menuitem id="menu_recommendation_learning"
              name="AI Learning Patterns"
              parent="menu_ollama_analytics"
              action="action_recommendation_learning"
              sequence="10"/>
    
    <!-- Client History -->
    <menuitem id="menu_client_history"
              name="Client History"
              parent="menu_ollama_analytics"
              action="action_client_order_history"
              sequence="20"/>
    
    <!-- Quick Actions -->
    <menuitem id="menu_quick_recommendation" 
              name="🚀 Quick Recommendation" 
              parent="menu_gift_ai_root" 
              action="action_ollama_recommendation_wizard" 
              sequence="5"/>

</odoo>